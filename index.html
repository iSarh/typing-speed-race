<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>🏁 سباق الطباعة السريعة 🏁</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      direction: rtl;
      margin-top: 30px;
    }
    textarea {
      width: 80%;
      height: 100px;
      font-size: 18px;
      margin-bottom: 20px;
    }
    .sentence {
      font-size: 18px;
      margin: 20px 0;
      text-align: justify;
    }
    .result {
      font-size: 20px;
      color: green;
      margin-top: 10px;
    }
    #english-section, #restart-btn {
      display: none;
    }
    #start-english, #restart-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>🏁 سباق الطباعة السريعة 🏁</h1>

  <!-- النص العربي -->
  <div id="arabic-section">
    <h2>النص العربي:</h2>
    <div class="sentence" id="arabic-sentence">
      في عالم اليوم الذي يعتمد بشكل متزايد على التقنية، أصبحت مهارة الطباعة السريعة أمرًا ضروريًا لكل من يسعى إلى تطوير نفسه وزيادة إنتاجيته. فالقدرة على إدخال النصوص بسرعة ودقة تساهم في إنجاز الأعمال بكفاءة عالية، سواء في المجالات الأكاديمية أو المهنية. من خلال التدرب المستمر على الطباعة السريعة، يصبح من السهل كتابة الرسائل والتقارير والملاحظات دون الحاجة إلى النظر المستمر إلى لوحة المفاتيح، مما يوفر الوقت والجهد. لذا فإن ممارسة الطباعة يوميًا يساعدك على تحسين مهاراتك بشكل ملحوظ، ويمنحك الثقة في التعامل مع البرامج المختلفة بسهولة وسرعة.
    </div>
    <textarea id="arabic-input" placeholder="ابدأي بكتابة النص العربي هنا..."></textarea>
    <div class="result" id="arabic-result"></div>
  </div>

  <button id="start-english">ابدئي النص الإنجليزي</button>

  <!-- النص الإنجليزي -->
  <div id="english-section">
    <h2>English Text:</h2>
    <div class="sentence" id="english-sentence">
      In today’s increasingly technology-driven world, fast typing has become an essential skill for anyone seeking to improve themselves and boost their productivity. The ability to input text quickly and accurately contributes to completing tasks efficiently, whether in academic or professional fields. With continuous practice, it becomes easier to write messages, reports, and notes without constantly looking at the keyboard, saving time and effort. Therefore, practicing typing daily helps you significantly improve your skills and gives you the confidence to handle different software easily and quickly.
    </div>
    <textarea id="english-input" placeholder="Start typing the English text here..."></textarea>
    <div class="result" id="english-result"></div>
  </div>

  <button id="restart-btn">🔄 إعادة التمرين</button>

  <script>
    function compareWords(expected, actual) {
      const expectedWords = expected.split(/\s+/);
      const actualWords = actual.split(/\s+/);
      let correct = 0;
      let incorrect = 0;
      for (let i = 0; i < actualWords.length; i++) {
        if (expectedWords[i] === actualWords[i]) {
          correct++;
        } else {
          incorrect++;
        }
      }
      return { correct, incorrect };
    }

    const arabicSentence = document.getElementById('arabic-sentence').innerText.trim();
    const arabicInput = document.getElementById('arabic-input');
    const arabicResult = document.getElementById('arabic-result');
    const startEnglishBtn = document.getElementById('start-english');
    const englishSection = document.getElementById('english-section');
    const restartBtn = document.getElementById('restart-btn');

    let arabicStartTime = null;
    arabicInput.addEventListener('input', () => {
      if (arabicStartTime === null) {
        arabicStartTime = Date.now();
      }

      if (arabicInput.value.trim() === arabicSentence) {
        const timeTaken = ((Date.now() - arabicStartTime) / 1000).toFixed(2);
        const { correct, incorrect } = compareWords(arabicSentence, arabicInput.value.trim());
        arabicResult.innerHTML = `
          🎉 أحسنتِ! انتهيتِ في ${timeTaken} ثانية.<br>
          ✅ كلمات صحيحة: ${correct}<br>
          ❌ كلمات خاطئة: ${incorrect}
        `;
        arabicInput.disabled = true;
        startEnglishBtn.style.display = 'inline-block';
      }
    });

    startEnglishBtn.addEventListener('click', () => {
      document.getElementById('arabic-section').style.display = 'none';
      startEnglishBtn.style.display = 'none';
      englishSection.style.display = 'block';
    });

    const englishSentence = document.getElementById('english-sentence').innerText.trim();
    const englishInput = document.getElementById('english-input');
    const englishResult = document.getElementById('english-result');

    let englishStartTime = null;
    englishInput.addEventListener('input', () => {
      if (englishStartTime === null) {
        englishStartTime = Date.now();
      }

      if (englishInput.value.trim() === englishSentence) {
        const timeTaken = ((Date.now() - englishStartTime) / 1000).toFixed(2);
        const { correct, incorrect } = compareWords(englishSentence, englishInput.value.trim());
        englishResult.innerHTML = `
          🎉 Excellent! You finished in ${timeTaken} seconds.<br>
          ✅ Correct words: ${correct}<br>
          ❌ Incorrect words: ${incorrect}
        `;
        englishInput.disabled = true;
        restartBtn.style.display = 'inline-block';
      }
    });

    restartBtn.addEventListener('click', () => {
      // إعادة تعيين كل شيء
      arabicInput.value = '';
      arabicInput.disabled = false;
      arabicResult.innerHTML = '';
      arabicStartTime = null;

      englishInput.value = '';
      englishInput.disabled = false;
      englishResult.innerHTML = '';
      englishStartTime = null;

      document.getElementById('arabic-section').style.display = 'block';
      englishSection.style.display = 'none';
      restartBtn.style.display = 'none';
      startEnglishBtn.style.display = 'none';
    });
  </script>

</body>
</html>
